<!DOCTYPE html>

<html lang="en" dir="ltr">

  <head>
   <meta charset="utf-8">
   <title>mesa de ping pong</title>
  </head>
  <body>

    <canvas id="folha" width="600" height="500"></canvas>

    <script>
     window.onload = function(){
       setInterval(executar, 1000 /1);
      }
//var globais
      var posicaoJogador1 = posicaoJogador2 = 40;
      var posicaoBolaX = posicaoBolaY = 10; // posição inicial da bola
      var velociadeBolaPosicaoX = velociadeBolaPosicaoY = 1;
      var pontuacaoJogador2 = pontuacaoJogador2 = 0;
      var pontuacaoJogador1 = pontuacaoJogador1 = 0;



      function executar (){
        //var contador = 0;
        //console.log("segundos" + contador);
        //contador = contador + 0.00001;



        var folhaDesenho = document.getElementById("folha");
        var areaDesenho = folhaDesenho.getContext("2d");


        var larguraCampo = 600;//y de cima para baixo
        var alturaCampo = 500;//x da esquerda para a direita
        // sendo a 00 no canto superior esquerdo

// altura e largura da raquete
        var espessuraRaquete = 11;
        var alturaRaquete =100 ;
        var efeitoRaquete = 0.3;


        var espessuraRede = 5;


        var diametroBola = 10 ;
        //campo
        areaDesenho.fillStyle = "#286047";// cor verde
        areaDesenho.fillRect(0, 0, larguraCampo, alturaCampo);
        //rede
        areaDesenho.fillStyle = "#ffffff"; // cor branca
        areaDesenho.fillRect(larguraCampo / 2 - espessuraRede / 2, 0, espessuraRede, alturaCampo);
        //bola
        areaDesenho.fillRect(posicaoBolaX - diametroBola / 2, posicaoBolaY - diametroBola / 2, diametroBola, diametroBola);
//raquetes
        areaDesenho.fillRect(0, posicaoJogador1, espessuraRaquete, alturaRaquete);
        areaDesenho.fillRect(larguraCampo - espessuraRaquete, posicaoJogador2, espessuraRaquete, alturaRaquete);




// incrementa a posição da bola a cada looping
        posicaoBolaX = posicaoBolaX + velociadeBolaPosicaoX;
        posicaoBolaY = posicaoBolaY + velociadeBolaPosicaoY;

// verificar lateral superior
        if (posicaoBolaY < 0 && velociadeBolaPosicaoY <0) {
          velociadeBolaPosicaoY = -velociadeBolaPosicaoY;
        }
//verificação lateral inferior
        if (posicaoBolaY > alturaCampo && velociadeBolaPosicaoY > 0) {
         velociadeBolaPosicaoY = -velociadeBolaPosicaoY;
        }
//verificar se jogador 2 fez pontos
        if (posicaoBolaX < 0) {
          if (velociadeBolaPosicaoY > posicaoJogador1 && posicaoBolaY < posicaoJogador1 + alturaRaquete)
          //rebater a bola
          velociadeBolaPosicaoX = -velociadeBolaPosicaoX;
          var diferencaY = posicaoBolaY - (posicaoJogador1 + alturaRaquete / 2);
          velociadeBolaPosicaoY = diferencaY * efeitoRaquete;
        } else {
          // ponto jogador 2
          pontuacaoJogador2 = pontuacaoJogador2 +1 ;
        }
// verificação jogador 1 fez pontos
        if (posicaoBolaX > larguraCampo) {
          if (posicaoBolaY > posicaoJogador2 && posicaoBolaY < posicaoJogador2 + alturaRaquete)
          //rebater a bola
           velociadeBolaPosicaoX = - velociadeBolaPosicaoX;
           var diferencaY = posicaoBolaY - (posicaoJogador2 + alturaRaquete + 2);
           velociadeBolaPosicaoY = diferencaY * efeitoRaquete;
        } else {
          //Pontos do jogador 1
          pontuacaoJogador1 = pontuacaoJogador1 + 1;
          //colocar bola no centro
        }








// verificar lateral esquerda
                //if (posicaoBolaX < 0 && velociadeBolaPosicaoX <0) {
                  //velociadeBolaPosicaoX = -velociadeBolaPosicaoX;
                //}
// verificar lateral esquerda
//verificação lateral direita
                //if (posicaoBolaX > larguraCampo && velociadeBolaPosicaoX > 0) {
                 //velociadeBolaPosicaoX = -velociadeBolaPosicaoX;
                //}
//verificação lateral direita



        console.log("Tic-tac");
      }
    </script>
  </body>

</html>
